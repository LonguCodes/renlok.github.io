<html>
<head>
<title>JP Words</title>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/umbrellajs"></script>
<script type="text/javascript" src="core.js"></script>
<style>
div {
font-size: 2em;
}
</style>
</head>
<body>
<div id="display">

</div>
<div id="answer">

</div>
<button id="reading">
reading
</button>
<button id="meaning">
Meaning
</button>
<button id="next">
next
</button><br>
<label for="max">Max: </label> <input type="number" id="max" value="6000" min="0" max="6000">
</body>
<script type="text/javascript">//<![CDATA[

let max = u('#max');
let maxTest = max.attr('value');

max.on('input', function() {
	maxTest = max.attr('value');
});

function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive
}

// get the elements
let display = u('#display');
let answer = u('#answer');
let reading = u('#reading');
let meaning = u('#meaning');
let next = u('#next');

let word = getRandomInt(0, maxTest); // random

// load display
display.text(words[word][0]);
reading.handle('click', function() {
	answer.text(words[word][1]);
});
meaning.handle('click', function() {
	answer.text(words[word][2]);
});
next.handle('click', function() {
	word = getRandomInt(0, maxTest);
	display.text(words[word][0]);
	answer.text('');
});

u('body').handle('keypress', function(e) {
	if (e.key == '1') { // reading
		answer.text(words[word][1]);
	} else if (e.key == '2') { // meaning
		answer.text(words[word][2]);
	} else if (e.key == '3') { // next
		word = getRandomInt(0, maxTest);
		display.text(words[word][0]);
		answer.text('');
	}
});

  //]]></script>
</html>
